<!--
	THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=sankey-energy
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
  <style>
    html,body,form,fieldset,table,tr,td,img {
        margin: 0;
        padding: 0;
        font: 100%/150% calibri, helvetica, sans-serif;
    }
    td, td * { 
        max-height: 30px !important;
    }
</style>
</head>
<body style="width: 100%; height: 100%; margin: 0">
  <table style="width: 100%; margin: 0px; padding: 0px; border-width:0px;">
    <tbody>
        <tr height="10px">
            <td>UNIVERSIDADE FEDERAL DE CAMPINA GRANDE - UFCG</td>
            <td style="text-align: right;">Disciplina: Visualiza&ccedil;&atilde;o de Dados (TECC)</td>
        </tr>
        <tr>
            <td>CENTRO DE ENGENHARIA EL&Eacute;TRICA E INFORM&Aacute;TICA - CEEI</td>
            <td style="text-align: right;">Professor: Maxwell Guimar&atilde;es de Oliveira</td>
        </tr>
        <tr>
            <td>UNIDADE ACAD&Ecirc;MICA DE SISTEMAS E COMPUTA&Ccedil;&Atilde;O - UASC</td>
            <td style="text-align: right;">Período: 2024.1</td>
        </tr>
    </tbody>
  </table>
  <div id="header">
    <h2 style="text-align:center;">Projeto de Visualização Interativa de Dados</h2>
    <h4 style="text-align:center;"><u>Grupo B</u>: Gabriel Dantas de Oliveira, Mateus Alves dos Santos, Paulo Hernane Fontes e Silva, Paulo Sérgio de Sousa Nunes, Lucas de Lima da Silva</h4>
    <p style="text-align:center;">&nbsp;</p>
    <h2 style="text-align:center;"><span style="font-family:'Lucida Sans Unicode', 'Lucida Grande', sans-serif;"><strong>Título da visualização</strong></span></h3>
    <p style="text-align:justify; padding: 10px 50px 10px 50px;">Breve resumo sobre os dados (e as histórias) visualizadas.</p>
  </div>
  <div id="container" style="max-width: 100%; height: 470px; padding: 10px 50px 10px 50px;"></div>
  <div id="footer" style="height: 2%">
    <p style="text-align:justify; padding: 20px 50px 0px 50px;"><b>Dicas para interagir com a visualização</b>:</p>
    <ul style="padding: 0px 50px 10px 75px;">
      <li>Inserir aqui breves instruções para o usuário navegar na visualização e usar o máximo dos recursos de interação disponíveis.</li>
      <li>...</li>
      <li>...</li>
    </ul>
  </div>

  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
  
  <!-- Uncomment this line if you want to dataTool extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.5.0/dist/extension/dataTool.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use gl extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
  -->
  <!-- Uncomment this line if you want to echarts-stat extension
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
  -->
  <!-- Uncomment this line if you want to use map
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/china.js"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@4.9.0/map/js/world.js"></script>
  -->
  <!-- Uncomment these two lines if you want to use bmap extension
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
  <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.5.0/dist/extension/bmap.min.js"></script>
  -->

  <script type="text/javascript">
      var dom = document.getElementById('container');
        var myChart = echarts.init(dom, null, {
          renderer: 'canvas',
          useDirtyRect: false
        });
        var app = {};

        var option;

        const teamColors = {
          'Ferrari': '#FF6F61', // Vermelho claro Ferrari
          'McLaren': '#FFA500', // Laranja claro McLaren
          'Mercedes': '#00B2A0', // Verde claro Mercedes
          'Red Bull': '#4A8CFF', // Azul claro Red Bull
          'Williams': '#0074D9', // Azul claro Williams
          'Team Lotus': '#C4D600', // Verde claro Team Lotus
          'Renault': '#F2E800', // Amarelo claro Renault
          'Benetton': '#33CC66', // Verde claro Benetton
          'Brabham': '#FFB84D', // Laranja claro Brabham
          'Tyrrell': '#6699FF' // Azul claro Tyrrell
        };

        const rawData = [
          ['Ferrari', 6, 0, 3, 10, 17, 19, 20, 26, 26, 28, 30, 31, 36, 36, 37, 40, 40, 42, 42, 43, 43, 47, 49, 50, 50, 53, 59, 65, 69, 74, 80, 80, 82, 85, 89, 90, 92, 92, 94, 95, 98, 104, 104, 104, 104, 105, 106, 109, 114, 120, 126, 136, 145, 160, 168, 183, 184, 193, 202, 210, 211, 216, 217, 220, 222, 222, 225, 225, 230, 236, 239, 239, 239, 243, 244, 246],
          ['McLaren', 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 8, 11, 17, 20, 20, 20, 20, 21, 25, 26, 38, 44, 48, 51, 66, 76, 82, 90, 95, 100, 100, 100, 100, 103, 112, 119, 126, 130, 131, 133, 134, 144, 144, 152, 158, 160, 165, 171, 178, 178, 178, 178, 178, 178, 178, 178, 178, 179, 179, 179, 180],
          ['Mercedes', 131, 0, 0, 0, 0, 4, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 13, 29, 45, 64, 76, 87, 102, 115, 124, 125, 125, 127],
          ['Red Bull', 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 15, 27, 34, 47, 50, 50, 52, 55, 59, 62, 64, 75, 92, 113, 120],
          ['Williams', 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5, 11, 15, 16, 17, 18, 22, 31, 40, 40, 42, 44, 51, 61, 71, 78, 83, 95, 103, 103, 103, 103, 107, 108, 112, 113, 113, 113, 113, 113, 113, 113, 113, 114, 114, 114, 114, 114, 114, 114, 114, 114, 114, 114, 114, 114],
          ['Team Lotus', 32, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 8, 8, 13, 20, 23, 23, 24, 29, 37, 37, 37, 37, 38, 38, 38, 41, 43, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45],
          ['Renault', 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4, 7, 11, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 16, 17, 25, 33, 33, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35, 35],
          ['Benetton', 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 2, 4, 5, 6, 7, 15, 26, 26, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27],
          ['Brabham', 34, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 4, 6, 6, 6, 8, 8, 11, 14, 16, 20, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23],
          ['Tyrrell', 25, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 11, 16, 18, 19, 20, 20, 21, 21, 21, 21, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23],
        ];



        const teamsData = rawData.map(row => {
          return row.slice(2).map((value, index) => ({
            year: 1950 + index,
            income: value,
            teamName: row[0]
          }));
        }).flat();

        function run() {
          const teams = ['Ferrari', 'McLaren', 'Mercedes', 'Red Bull', 'Williams', 'Team Lotus', 'Renault', 'Benetton', 'Brabham', 'Tyrrell'];
          const datasetWithFilters = [];
          const seriesList = [];

          echarts.util.each(teams, function (team) {
            var datasetId = 'dataset_' + team;
            datasetWithFilters.push({
              id: datasetId,
              fromDatasetId: 'dataset_raw',
              transform: {
                type: 'filter',
                config: {
                  and: [
                    { dimension: 'year', gte: 1950 },
                    { dimension: 'teamName', '=': team }
                  ]
                }
              }
            });
            seriesList.push({
              type: 'line',
              datasetId: datasetId,
              showSymbol: false,
              name: team,
              encode: {
                x: 'year',
                y: 'income',
                tooltip: ['income']
              },
              emphasis: {
                focus: 'series',
                blurScope: 'coordinateSystem',
                lineStyle: {
                  width: 5  // Aumentando a espessura da linha para 5
                }
              },
              itemStyle: {
                color: teamColors[team] // Usando a cor definida para a equipe
              },
              lineStyle: {
                width: 3 // Espessura padrão da linha
              }
            });
          });

          const option = {
            animationDuration: 4000,
            dataset: [
              {
                id: 'dataset_raw',
                source: teamsData
              },
              ...datasetWithFilters
            ],
            title: {
              text: 'Formula 1: Evolução de Vitórias das 10 melhores Equipes (1950-2024)',
              left: 'center',
              top: '20px',
              textStyle: {
                fontSize: 24,
                fontWeight: 'bold'
              }
            },
            tooltip: {
              order: 'valueDesc',
              trigger: 'axis',
              position: ['8%', '9%']
            },
            legend: {
              data: teams,
              bottom: '5%',
              left: 'center'
            },
            xAxis: {
              type: 'category',
              nameLocation: 'middle'
            },
            yAxis: {
              name: 'Vitórias em Primeiro Lugar',
              nameLocation: 'middle',
              nameTextStyle: {
                padding: [0, 0, 20, 0],
                fontSize: 20,
                fontWeight: 'bold'
              },
              axisLabel: {
                formatter: value => value,
                rotate: 90,
                textStyle: {
                  align: 'center',
                  fontSize: 14,
                  fontWeight: 'bold'
                }
              }
            },
            grid: {
              left: '7%',
              right: '7%',
              bottom: '11%',
              top: '7%'
            },
            series: seriesList.map(series => ({
              ...series,
              symbol: 'circle',
              lineStyle: {
                width: 3
              }
            })),
            dataZoom: [
              {
                type: 'slider',
                xAxisIndex: 0
              },
              {
                type: 'inside',
                xAxisIndex: 0
              }
            ]
          };

          myChart.setOption(option);
        }

        function filterTeam(team) {
          // Função para aplicar o filtro
          const datasetId = 'dataset_' + team;
          myChart.setOption({
            series: [{
              datasetId: datasetId
            }]
          });
        }

        run();


        if (option && typeof option === 'object') {
          myChart.setOption(option);
        }

        window.addEventListener('resize', myChart.resize);
  </script>
</body>
</html>